{"ast":null,"code":"\"use strict\";var _interopRequireDefault2=require(\"@babel/runtime/helpers/interopRequireDefault\");var _regenerator=_interopRequireDefault2(require(\"@babel/runtime/regenerator\"));var _classCallCheck2=_interopRequireDefault2(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault2(require(\"@babel/runtime/helpers/createClass\"));var _possibleConstructorReturn2=_interopRequireDefault2(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));var _getPrototypeOf2=_interopRequireDefault2(require(\"@babel/runtime/helpers/getPrototypeOf\"));var _inherits2=_interopRequireDefault2(require(\"@babel/runtime/helpers/inherits\"));var _slicedToArray2=_interopRequireDefault2(require(\"@babel/runtime/helpers/slicedToArray\"));var _interopRequireWildcard=require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");var _interopRequireDefault=require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");exports.__esModule=true;exports.render=render;exports.renderError=renderError;exports.default=exports.emitter=exports.ErrorComponent=exports.router=exports.dataManager=exports.version=void 0;var _asyncToGenerator2=_interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/asyncToGenerator\"));var _extends2=_interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/extends\"));var _promise=_interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/promise\"));var _react=_interopRequireDefault(require(\"react\"));var _reactDom=_interopRequireDefault(require(\"react-dom\"));var _headManager=_interopRequireDefault(require(\"./head-manager\"));var _router=require(\"next/router\");var _mitt=_interopRequireDefault(require(\"../next-server/lib/mitt\"));var _utils=require(\"../next-server/lib/utils\");var _pageLoader=_interopRequireDefault(require(\"./page-loader\"));var envConfig=_interopRequireWildcard(require(\"../next-server/lib/runtime-config\"));var _headManagerContext=require(\"../next-server/lib/head-manager-context\");var _dataManagerContext=require(\"../next-server/lib/data-manager-context\");var _routerContext=require(\"../next-server/lib/router-context\");var _dataManager=require(\"../next-server/lib/data-manager\");var _querystring=require(\"querystring\");var _isDynamic=require(\"../next-server/lib/router/utils/is-dynamic\");if(!window.Promise){window.Promise=_promise.default;}var data=JSON.parse(document.getElementById('__NEXT_DATA__').textContent);window.__NEXT_DATA__=data;var version=\"9.0.7\";exports.version=version;var props=data.props,err=data.err,page=data.page,query=data.query,buildId=data.buildId,assetPrefix=data.assetPrefix,runtimeConfig=data.runtimeConfig,dynamicIds=data.dynamicIds;var d=JSON.parse(window.__NEXT_DATA__.dataManager);var dataManager=new _dataManager.DataManager(d);exports.dataManager=dataManager;var prefix=assetPrefix||'';__webpack_public_path__=prefix+\"/_next/\";envConfig.setConfig({serverRuntimeConfig:{},publicRuntimeConfig:runtimeConfig||{}});var asPath=(0,_utils.getURL)();var pageLoader=new _pageLoader.default(buildId,prefix);var register=function register(_ref){var _ref6=(0,_slicedToArray2.default)(_ref,2),r=_ref6[0],f=_ref6[1];return pageLoader.registerPage(r,f);};if(window.__NEXT_P){window.__NEXT_P.map(register);}window.__NEXT_P=[];window.__NEXT_P.push=register;var headManager=new _headManager.default();var appElement=document.getElementById('__next');var lastAppProps;var webpackHMR;var router;exports.router=router;var ErrorComponent;exports.ErrorComponent=ErrorComponent;var Component;var App;var Container=function(_react$default$Compon){(0,_inherits2.default)(Container,_react$default$Compon);function Container(){(0,_classCallCheck2.default)(this,Container);return(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(Container).apply(this,arguments));}(0,_createClass2.default)(Container,[{key:\"componentDidCatch\",value:function componentDidCatch(err,info){this.props.fn(err,info);}},{key:\"componentDidMount\",value:function componentDidMount(){this.scrollToHash();if(data.nextExport&&((0,_isDynamic.isDynamicRoute)(router.pathname)||location.search||data.skeleton)){router.replace(router.pathname+'?'+(0,_querystring.stringify)((0,_extends2.default)({},router.query,(0,_querystring.parse)(location.search.substr(1)))),asPath,{_h:1});}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){this.scrollToHash();}},{key:\"scrollToHash\",value:function scrollToHash(){var _location=location,hash=_location.hash;hash=hash&&hash.substring(1);if(!hash)return;var el=document.getElementById(hash);if(!el)return;setTimeout(function(){return el.scrollIntoView();},0);}},{key:\"render\",value:function render(){return this.props.children;}}]);return Container;}(_react.default.Component);var emitter=(0,_mitt.default)();exports.emitter=emitter;var _default=function(){var _ref2=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee(_temp){var _ref7,passedWebpackHMR,initialErr,_require,isValidElementType,renderCtx;return _regenerator.default.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_ref7=_temp===void 0?{}:_temp,passedWebpackHMR=_ref7.webpackHMR;if(process.env.NODE_ENV==='development'){webpackHMR=passedWebpackHMR;}_context.next=4;return pageLoader.loadPage('/_app');case 4:App=_context.sent;initialErr=err;_context.prev=6;_context.next=9;return pageLoader.loadPage(page);case 9:Component=_context.sent;if(!(process.env.NODE_ENV!=='production')){_context.next=14;break;}_require=require('react-is'),isValidElementType=_require.isValidElementType;if(isValidElementType(Component)){_context.next=14;break;}throw new Error(\"The default export is not a React Component in page: \\\"\"+page+\"\\\"\");case 14:_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](6);initialErr=_context.t0;case 19:if(!window.__NEXT_PRELOADREADY){_context.next=22;break;}_context.next=22;return window.__NEXT_PRELOADREADY(dynamicIds);case 22:exports.router=router=(0,_router.createRouter)(page,query,asPath,{initialProps:props,pageLoader:pageLoader,App:App,Component:Component,wrapApp:wrapApp,err:initialErr,subscription:function subscription(_ref3,App){var Component=_ref3.Component,props=_ref3.props,err=_ref3.err;render({App:App,Component:Component,props:props,err:err,emitter:emitter});}});renderCtx={App:App,Component:Component,props:props,err:initialErr,emitter:emitter};render(renderCtx);return _context.abrupt(\"return\",emitter);case 26:case\"end\":return _context.stop();}}},_callee,null,[[6,16]]);}));return function(_x){return _ref2.apply(this,arguments);};}();exports.default=_default;function render(_x2){return _render.apply(this,arguments);}function _render(){_render=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee2(props){return _regenerator.default.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!props.err){_context2.next=4;break;}_context2.next=3;return renderError(props);case 3:return _context2.abrupt(\"return\");case 4:_context2.prev=4;_context2.next=7;return doRender(props);case 7:_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](4);_context2.next=13;return renderError((0,_extends2.default)({},props,{err:_context2.t0}));case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[4,9]]);}));return _render.apply(this,arguments);}function renderError(_x3){return _renderError.apply(this,arguments);}function _renderError(){_renderError=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee3(props){var App,err,AppTree,appCtx,initProps;return _regenerator.default.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:App=props.App,err=props.err;if(!(process.env.NODE_ENV!=='production')){_context3.next=3;break;}return _context3.abrupt(\"return\",webpackHMR.reportRuntimeError(webpackHMR.prepareError(err)));case 3:console.error(err);_context3.next=6;return pageLoader.loadPage('/_error');case 6:exports.ErrorComponent=ErrorComponent=_context3.sent;AppTree=wrapApp(App);appCtx={Component:ErrorComponent,AppTree:AppTree,router:router,ctx:{err:err,pathname:page,query:query,asPath:asPath,AppTree:AppTree}};if(!props.props){_context3.next=13;break;}_context3.t0=props.props;_context3.next=16;break;case 13:_context3.next=15;return(0,_utils.loadGetInitialProps)(App,appCtx);case 15:_context3.t0=_context3.sent;case 16:initProps=_context3.t0;_context3.next=19;return doRender((0,_extends2.default)({},props,{err:err,Component:ErrorComponent,props:initProps}));case 19:case\"end\":return _context3.stop();}}},_callee3);}));return _renderError.apply(this,arguments);}var isInitialRender=typeof _reactDom.default.hydrate==='function';function renderReactElement(reactEl,domEl){if(_utils.SUPPORTS_PERFORMANCE_USER_TIMING){performance.mark('beforeRender');}if(isInitialRender){_reactDom.default.hydrate(reactEl,domEl,function(){if(process.env.NODE_ENV!=='production'){document.querySelectorAll('[data-next-hydrating]').forEach(function(el){el.remove();});}markHydrateComplete();});isInitialRender=false;}else{_reactDom.default.render(reactEl,domEl,function(){if(process.env.NODE_ENV!=='production'){document.querySelectorAll('[data-next-hydrating]').forEach(function(el){el.remove();});}markRenderComplete();});}}function markHydrateComplete(){if(!_utils.SUPPORTS_PERFORMANCE_USER_TIMING)return;performance.mark('afterHydrate');performance.measure('Next.js-before-hydration','navigationStart','beforeRender');performance.measure('Next.js-hydration','beforeRender','afterHydrate');clearMarks();}function markRenderComplete(){if(!_utils.SUPPORTS_PERFORMANCE_USER_TIMING)return;performance.mark('afterRender');var navStartEntries=performance.getEntriesByName('routeChange','mark');if(!navStartEntries.length){return;}performance.measure('Next.js-route-change-to-render',navStartEntries[0].name,'beforeRender');performance.measure('Next.js-render','beforeRender','afterRender');clearMarks();}function clearMarks(){;['beforeRender','afterHydrate','afterRender','routeChange'].forEach(function(mark){return performance.clearMarks(mark);});}function AppContainer(_ref4){var children=_ref4.children;return _react.default.createElement(Container,{fn:function fn(error){return renderError({App:App,err:error}).catch(function(err){return console.error('Error rendering page: ',err);});}},_react.default.createElement(_routerContext.RouterContext.Provider,{value:(0,_router.makePublicRouterInstance)(router)},_react.default.createElement(_dataManagerContext.DataManagerContext.Provider,{value:dataManager},_react.default.createElement(_headManagerContext.HeadManagerContext.Provider,{value:headManager.updateHead},children))));}var wrapApp=function wrapApp(App){return function(props){var appProps=(0,_extends2.default)({},props,{Component:Component,err:err,router:router});return _react.default.createElement(AppContainer,null,_react.default.createElement(App,appProps));};};function doRender(_x4){return _doRender.apply(this,arguments);}function _doRender(){_doRender=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee4(_ref5){var App,Component,props,err,_router2,pathname,_query,_asPath,AppTree,appCtx,appProps;return _regenerator.default.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:App=_ref5.App,Component=_ref5.Component,props=_ref5.props,err=_ref5.err;if(!(!props&&Component&&Component!==ErrorComponent&&lastAppProps.Component===ErrorComponent)){_context4.next=8;break;}_router2=router,pathname=_router2.pathname,_query=_router2.query,_asPath=_router2.asPath;AppTree=wrapApp(App);appCtx={router:router,AppTree:AppTree,Component:ErrorComponent,ctx:{err:err,pathname:pathname,query:_query,asPath:_asPath,AppTree:AppTree}};_context4.next=7;return(0,_utils.loadGetInitialProps)(App,appCtx);case 7:props=_context4.sent;case 8:Component=Component||lastAppProps.Component;props=props||lastAppProps.props;appProps=(0,_extends2.default)({},props,{Component:Component,err:err,router:router});lastAppProps=appProps;emitter.emit('before-reactdom-render',{Component:Component,ErrorComponent:ErrorComponent,appProps:appProps});renderReactElement(_react.default.createElement(AppContainer,null,_react.default.createElement(App,appProps)),appElement);emitter.emit('after-reactdom-render',{Component:Component,ErrorComponent:ErrorComponent,appProps:appProps});case 15:case\"end\":return _context4.stop();}}},_callee4);}));return _doRender.apply(this,arguments);}","map":null,"metadata":{},"sourceType":"script"}