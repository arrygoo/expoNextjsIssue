{"ast":null,"code":"\"use strict\";var _interopRequireDefault2=require(\"@babel/runtime/helpers/interopRequireDefault\");var _construct2=_interopRequireDefault2(require(\"@babel/runtime/helpers/construct\"));var _interopRequireWildcard=require(\"@babel/runtime-corejs2/helpers/interopRequireWildcard\");var _interopRequireDefault=require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");exports.__esModule=true;exports.useRouter=useRouter;exports.makePublicRouterInstance=makePublicRouterInstance;exports.createRouter=exports.withRouter=exports.default=void 0;var _extends2=_interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/extends\"));var _defineProperty=_interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/object/define-property\"));var _react=_interopRequireDefault(require(\"react\"));var _router2=_interopRequireWildcard(require(\"../next-server/lib/router/router\"));exports.Router=_router2.default;exports.NextRouter=_router2.NextRouter;var _routerContext=require(\"../next-server/lib/router-context\");var _withRouter=_interopRequireDefault(require(\"./with-router\"));exports.withRouter=_withRouter.default;var singletonRouter={router:null,readyCallbacks:[],ready:function ready(cb){if(this.router)return cb();if(false){this.readyCallbacks.push(cb);}}};var urlPropertyFields=['pathname','route','query','asPath','components'];var routerEvents=['routeChangeStart','beforeHistoryChange','routeChangeComplete','routeChangeError','hashChangeStart','hashChangeComplete'];var coreMethodFields=['push','replace','reload','back','prefetch','beforePopState'];(0,_defineProperty.default)(singletonRouter,'events',{get:function get(){return _router2.default.events;}});urlPropertyFields.forEach(function(field){(0,_defineProperty.default)(singletonRouter,field,{get:function get(){var router=getRouter();return router[field];}});});coreMethodFields.forEach(function(field){;singletonRouter[field]=function(){var router=getRouter();return router[field].apply(router,arguments);};});routerEvents.forEach(function(event){singletonRouter.ready(function(){_router2.default.events.on(event,function(){var eventField=\"on\"+event.charAt(0).toUpperCase()+event.substring(1);var _singletonRouter=singletonRouter;if(_singletonRouter[eventField]){try{_singletonRouter[eventField].apply(_singletonRouter,arguments);}catch(err){console.error(\"Error when running the Router event: \"+eventField);console.error(err.message+\"\\n\"+err.stack);}}});});});function getRouter(){if(!singletonRouter.router){var message='No router instance found.\\n'+'You should only use \"next/router\" inside the client side of your app.\\n';throw new Error(message);}return singletonRouter.router;}var _default=singletonRouter;exports.default=_default;function useRouter(){return _react.default.useContext(_routerContext.RouterContext);}var createRouter=function createRouter(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}singletonRouter.router=(0,_construct2.default)(_router2.default,args);singletonRouter.readyCallbacks.forEach(function(cb){return cb();});singletonRouter.readyCallbacks=[];return singletonRouter.router;};exports.createRouter=createRouter;function makePublicRouterInstance(router){var _router=router;var instance={};for(var _iterator=urlPropertyFields,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol===\"function\"?Symbol.iterator:\"@@iterator\"]();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref=_i.value;}var _property=_ref;if(typeof _router[_property]==='object'){instance[_property]=(0,_extends2.default)({},_router[_property]);continue;}instance[_property]=_router[_property];}instance.events=_router2.default.events;coreMethodFields.forEach(function(field){instance[field]=function(){return _router[field].apply(_router,arguments);};});return instance;}","map":null,"metadata":{},"sourceType":"script"}